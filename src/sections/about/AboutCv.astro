---
import { getEntry } from "astro:content"
import LayoutSpacer from "../../components/LayoutSpacer.astro"
import SectionContent from "../../components/SectionContent.astro"
import SectionHeader from "../../components/SectionHeader.astro"
import SvgPetalFlower from "../../components/svg/SvgPetalFlower.astro"

const document = await getEntry("about", "2-cv")
const { Content } = await document.render()
---

<section>
  <SectionContent class="text-bluegray" fluffy={true}>
    <div class="flex flex-col items-center md:gap-8 lg:flex-row">
      <figure class="relative mb-12 w-full pl-8 sm:w-2/3 lg:order-2 lg:pl-16">
        <picture
          class="after:absolute after:inset-0 after:w-1/2 after:bg-gradient-to-r after:from-white"
        >
          <!-- <source
            media="(max-width: 767px)"
            srcset="/images/mobile/ironleaves-photography-blog-mobile.jpg"
          />
          <source
            media="(min-width: 768px)"
            srcset="/images/desktop/ironleaves-photography-blog.jpg"
          /> -->
          <img
            class="w-full object-cover"
            src={document.data.sectionImg}
            alt="Tamara Loeffen Portrait"
          />
        </picture>
        <SvgPetalFlower
          class="absolute bottom-0 left-0 -mb-8 w-[min(30%,7rem)] rotate-[-20deg] fill-current text-emerald sm:-mb-12 lg:ml-6 xl:w-32"
        />
      </figure>
      <div
        class="max-w-prose text-center lg:order-1 lg:w-1/2 lg:max-w-[none] lg:flex-initial lg:text-left"
      >
        <SectionHeader>
          <span slot="roofline" set:html={document.data.roofline} />
          <Fragment set:html={document.data.title} />
        </SectionHeader>
        <LayoutSpacer />
        <div class="mx-auto max-w-prose space-y-4">
          <Content />
        </div>
      </div>
    </div>
  </SectionContent>
</section>
